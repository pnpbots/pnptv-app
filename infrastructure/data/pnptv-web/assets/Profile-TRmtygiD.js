import{j as e,u as K,t as Q,v as O,B as _,S as M,w as X,x as Z,y as ee,I as z,z as se,A as te}from"./index-Cn0k-BHZ.js";import{r as t,e as ae,u as le}from"./vendor-DD6IjSBT.js";import{B as re}from"./Badge-BXfN9DIO.js";import"./auth-BkcVUzVN.js";function ne({open:s,onClose:a,title:n,children:o}){return t.useEffect(()=>{if(s)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[s]),s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),e.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-pnp-surface border border-pnp-border p-6 shadow-2xl",children:[n&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-pnp-textPrimary",children:n}),e.jsx("button",{onClick:a,className:"text-pnp-textSecondary hover:text-pnp-textPrimary transition-colors","aria-label":"Close",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o]})]}):null}function I(s){return s||null}function ie(s){if(!s)return"";const a=Date.now()-new Date(s).getTime(),n=Math.floor(a/6e4);if(n<1)return"now";if(n<60)return`${n}m`;const o=Math.floor(n/60);if(o<24)return`${o}h`;const c=Math.floor(o/24);if(c<30)return`${c}d`;const m=Math.floor(c/30);return m<12?`${m}mo`:`${Math.floor(m/12)}y`}function oe(s){return new Date(s).toLocaleDateString("en-US",{month:"long",year:"numeric"})}function ce({post:s,isOwn:a,onLike:n,onDelete:o,onAuthorTap:c}){const[m,h]=t.useState(!1),x=I(s.author_photo);return e.jsx("div",{className:"glass-card-sm p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>c==null?void 0:c(s.author_id),className:"flex-shrink-0",children:x?e.jsx("img",{src:x,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{background:"linear-gradient(135deg, #D4007A, #E69138)",color:"#fff"},children:(s.author_first_name||s.author_username||"?")[0].toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>c==null?void 0:c(s.author_id),className:"font-semibold text-white text-sm truncate hover:underline",children:s.author_first_name||s.author_username||"Anonymous"}),s.author_username&&e.jsxs("span",{className:"text-xs",style:{color:"#8E8E93"},children:["@",s.author_username]}),e.jsxs("span",{className:"text-xs",style:{color:"#8E8E93"},children:["· ",ie(s.created_at)]})]}),e.jsx("p",{className:"text-sm text-white/90 mt-1.5 whitespace-pre-wrap leading-relaxed",children:s.content}),s.media_url&&e.jsx("div",{className:"mt-3",children:s.media_type==="video"?e.jsx("video",{src:s.media_url,controls:!0,className:"w-full max-h-80 rounded-lg object-cover",preload:"metadata"}):e.jsx("img",{src:s.media_url,alt:"",className:"w-full max-h-80 rounded-lg object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex items-center gap-5 mt-3",style:{color:"#8E8E93"},children:[e.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-1.5 text-xs hover:text-pink-400 transition-colors",style:s.liked_by_me?{color:"#D4007A"}:void 0,children:[e.jsx("svg",{className:"w-4 h-4",fill:s.liked_by_me?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),s.likes_count>0&&e.jsx("span",{children:s.likes_count})]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 01-.923 1.785A5.969 5.969 0 006 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337z"})}),s.replies_count>0&&e.jsx("span",{children:s.replies_count})]}),a&&e.jsx("button",{onClick:()=>{h(!0),o(s.id)},disabled:m,className:"ml-auto text-xs hover:text-red-400 transition-colors",title:"Delete post",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]})]})})}function de({open:s,onClose:a,profile:n,onSaved:o}){const[c,m]=t.useState(n.firstName||""),[h,x]=t.useState(n.lastName||""),[j,l]=t.useState(n.bio||""),[b,v]=t.useState(n.locationText||""),[u,g]=t.useState(!1),[N,y]=t.useState(null);t.useEffect(()=>{m(n.firstName||""),x(n.lastName||""),l(n.bio||""),v(n.locationText||"")},[n]);const k=async()=>{g(!0),y(null);try{await te({firstName:c,lastName:h,bio:j,locationText:b}),o(),a()}catch(i){y(i instanceof Error?i.message:"Failed to save")}finally{g(!1)}};return e.jsx(ne,{open:s,onClose:a,title:"Edit Profile",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-pnp-textSecondary mb-1",children:"First Name"}),e.jsx(z,{value:c,onChange:i=>m(i.target.value),placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-pnp-textSecondary mb-1",children:"Last Name"}),e.jsx(z,{value:h,onChange:i=>x(i.target.value),placeholder:"Last name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-pnp-textSecondary mb-1",children:"Bio"}),e.jsx("textarea",{value:j,onChange:i=>l(i.target.value.slice(0,160)),placeholder:"Tell the world about yourself...",className:"w-full rounded-lg border border-pnp-border bg-pnp-bg text-pnp-textPrimary text-sm p-3 resize-none outline-none focus:border-pnp-accent",rows:3}),e.jsxs("span",{className:"text-xs text-pnp-textSecondary float-right",children:[j.length,"/160"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-pnp-textSecondary mb-1",children:"Location"}),e.jsx(z,{value:b,onChange:i=>v(i.target.value),placeholder:"City, Country"})]}),N&&e.jsx("p",{className:"text-xs text-red-400",children:N}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(_,{variant:"danger",className:"flex-1",onClick:a,children:"Cancel"}),e.jsx("button",{onClick:k,disabled:u||!c.trim(),className:"flex-1 btn-gradient px-4 py-2 rounded-lg text-white text-sm font-semibold disabled:opacity-40",children:u?"Saving...":"Save"})]})]})})}function xe({onPosted:s,photoUrl:a,displayName:n}){var k;const[o,c]=t.useState(""),[m,h]=t.useState(null),[x,j]=t.useState(null),[l,b]=t.useState(!1),[v,u]=t.useState(null),g=t.useRef(null),N=t.useCallback(()=>{h(null),x&&URL.revokeObjectURL(x),j(null),g.current&&(g.current.value="")},[x]),y=async()=>{if(!(!o.trim()||l)){b(!0),u(null);try{await se(o.trim(),m||void 0),c(""),N(),s()}catch(i){u(i instanceof Error?i.message:"Failed to post")}finally{b(!1)}}};return e.jsx("div",{className:"glass-card-sm p-4",children:e.jsxs("div",{className:"flex gap-3",children:[a?e.jsx("img",{src:a,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",style:{background:"linear-gradient(135deg, #D4007A, #E69138)",color:"#fff"},children:((k=n[0])==null?void 0:k.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{value:o,onChange:i=>c(i.target.value.slice(0,500)),placeholder:"What's happening?",className:"w-full bg-transparent text-white text-sm py-2 border-b border-white/10 mb-2 resize-none outline-none placeholder:text-white/40",rows:2,disabled:l}),e.jsx("div",{className:"flex justify-end mb-1",children:e.jsxs("span",{className:`text-xs ${o.length>450?"text-red-400":""}`,style:{color:o.length>450?void 0:"#8E8E93"},children:[o.length,"/500"]})}),x&&e.jsxs("div",{className:"relative mb-2 inline-block",children:[e.jsx("img",{src:x,alt:"Preview",className:"max-h-40 rounded-lg object-cover"}),e.jsx("button",{onClick:N,className:"absolute top-1 right-1 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs",style:{background:"rgba(0,0,0,0.7)"},children:"×"})]}),v&&e.jsx("p",{className:"text-xs text-red-400 mb-2",children:v}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",style:{color:"#8E8E93"},children:[e.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"hidden",onChange:i=>{var E;const C=(E=i.target.files)==null?void 0:E[0];C&&(h(C),j(URL.createObjectURL(C)))}}),e.jsx("button",{onClick:()=>{var i;return(i=g.current)==null?void 0:i.click()},disabled:l,className:"hover:text-pnp-accent transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909M3.75 21h16.5a1.5 1.5 0 001.5-1.5V5.25a1.5 1.5 0 00-1.5-1.5H3.75a1.5 1.5 0 00-1.5 1.5v14.25c0 .828.672 1.5 1.5 1.5z"})})})]}),e.jsx("button",{onClick:y,disabled:!o.trim()||l,className:"btn-gradient px-4 py-1.5 rounded-lg text-white text-sm font-semibold disabled:opacity-40",children:l?"Posting...":"Post"})]})]})]})})}function je(){var $;const{isAuthenticated:s,user:a,login:n,logout:o,refreshUser:c}=K(),{userId:m}=ae(),h=le(),x=!m||m===String(a==null?void 0:a.id),j=m||String((a==null?void 0:a.id)||""),[l,b]=t.useState(null),[v,u]=t.useState([]),[g,N]=t.useState(null),[y,k]=t.useState(!0),[i,C]=t.useState(!1),[E,T]=t.useState(null),[V,D]=t.useState(!1),[F,W]=t.useState(!1),[w,R]=t.useState("posts"),S=t.useRef(null),L=t.useCallback(async r=>{if(j)try{if(r?C(!0):k(!0),x&&s){const[d,f]=await Promise.all([Q(),O(j,r)]);r?u(p=>[...p,...f.posts]):(b(d.profile),u(f.posts)),N(f.nextCursor)}else{const d=await O(j,r);r?u(f=>[...f,...d.posts]):(b(d.profile),u(d.posts)),N(d.nextCursor)}}catch(d){T(d instanceof Error?d.message:"Failed to load profile")}finally{k(!1),C(!1)}},[j,x,s]);t.useEffect(()=>{L()},[L]);const H=async r=>{var f;const d=(f=r.target.files)==null?void 0:f[0];if(d){W(!0);try{const p=await X(d);b(U=>U&&{...U,photoUrl:p.photoUrl}),await c()}catch(p){alert(p instanceof Error?p.message:"Failed to upload avatar")}finally{W(!1),S.current&&(S.current.value="")}}},q=async r=>{if(s)try{const d=await Z(r);u(f=>f.map(p=>p.id===r?{...p,liked_by_me:d.liked,likes_count:p.likes_count+(d.liked?1:-1)}:p))}catch{}},G=async r=>{try{await ee(r),u(d=>d.filter(f=>f.id!==r))}catch{}},J=r=>{r===String(a==null?void 0:a.id)?h("/profile"):h(`/profile/${r}`)};if(!s&&!m)return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"linear-gradient(135deg, #D4007A, #E69138)"},children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})}),e.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-sm mb-6",style:{color:"#8E8E93"},children:"Sign in to view your profile and share with the community."}),e.jsx(_,{onClick:n,children:"Sign In"})]});if(y)return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"glass-card-sm p-6 mb-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(M,{className:"w-20 h-20 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(M,{className:"h-5 w-40"}),e.jsx(M,{className:"h-3 w-24"}),e.jsx(M,{className:"h-3 w-full"})]})]})}),e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((r,d)=>e.jsx("div",{className:"glass-card-sm p-4 animate-pulse",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 bg-white/10 rounded w-32"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-full"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-3/4"})]})]})},d))})]});if(E||!l)return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",style:{color:"#8E8E93"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),e.jsx("p",{className:"text-white font-medium mb-1",children:"Profile Not Found"}),e.jsx("p",{className:"text-sm mb-4",style:{color:"#8E8E93"},children:E||"This user doesn't exist."}),e.jsx(_,{onClick:()=>h("/"),children:"Go Home"})]});const B=I(l.photoUrl),P=l.firstName+(l.lastName?` ${l.lastName}`:""),Y=(($=P[0])==null?void 0:$.toUpperCase())||"U",A=l.subscriptionStatus==="prime"||l.subscriptionStatus==="premium";return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[m&&e.jsxs("button",{onClick:()=>h(-1),className:"flex items-center gap-2 text-sm mb-4 hover:text-pnp-accent transition-colors",style:{color:"#8E8E93"},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back"]}),e.jsxs("div",{className:"glass-card-sm p-6 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[B?e.jsx("img",{src:B,alt:P,className:"w-20 h-20 rounded-full object-cover border-2",style:{borderColor:A?"#FFB454":"rgba(255,255,255,0.1)"}}):e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold border-2",style:{background:"linear-gradient(135deg, #D4007A, #E69138)",color:"#fff",borderColor:A?"#FFB454":"rgba(255,255,255,0.1)"},children:Y}),x&&e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:S,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",className:"hidden",onChange:H}),e.jsx("button",{onClick:()=>{var r;return(r=S.current)==null?void 0:r.click()},disabled:F,className:"absolute bottom-0 right-0 w-7 h-7 rounded-full flex items-center justify-center border-2 border-[#1C1C1E]",style:{background:"linear-gradient(135deg, #D4007A, #E69138)"},title:"Change photo",children:F?e.jsxs("svg",{className:"w-3.5 h-3.5 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):e.jsxs("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})]})})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-lg font-bold text-white truncate",children:P}),A&&e.jsx(re,{variant:"accent",children:"PRIME"})]}),l.username&&e.jsxs("p",{className:"text-sm",style:{color:"#8E8E93"},children:["@",l.username]}),l.bio&&e.jsx("p",{className:"text-sm text-white/80 mt-2 leading-relaxed",children:l.bio}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{className:"text-white",children:l.postCount??v.length}),e.jsx("span",{className:"ml-1",style:{color:"#8E8E93"},children:"Posts"})]}),l.locationText&&e.jsxs("span",{className:"text-xs flex items-center gap-1",style:{color:"#8E8E93"},children:[e.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),l.locationText]})]}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"#8E8E93"},children:[e.jsx("svg",{className:"w-3.5 h-3.5 inline mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),"Joined ",oe(l.memberSince)]})]})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:x?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>D(!0),className:"flex-1 py-2 rounded-lg text-sm font-semibold text-white border border-white/20 hover:border-white/40 transition-colors",children:"Edit Profile"}),e.jsx(_,{variant:"danger",className:"px-4",onClick:o,children:"Sign Out"})]}):e.jsx("button",{onClick:()=>h("/chat"),className:"flex-1 btn-gradient py-2 rounded-lg text-white text-sm font-semibold",children:"Message"})})]}),e.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[e.jsx("button",{onClick:()=>R("posts"),className:`flex-1 py-3 text-sm font-semibold text-center transition-colors ${w==="posts"?"text-white border-b-2":"text-white/50"}`,style:w==="posts"?{borderColor:"#D4007A"}:void 0,children:"Posts"}),e.jsx("button",{onClick:()=>R("likes"),className:`flex-1 py-3 text-sm font-semibold text-center transition-colors ${w==="likes"?"text-white border-b-2":"text-white/50"}`,style:w==="likes"?{borderColor:"#D4007A"}:void 0,children:"Likes"})]}),x&&w==="posts"&&e.jsx("div",{className:"mb-4",children:e.jsx(xe,{onPosted:()=>L(),photoUrl:B,displayName:P})}),w==="posts"&&e.jsx(e.Fragment,{children:v.length===0?e.jsxs("div",{className:"glass-card-sm p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",style:{color:"#8E8E93"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),e.jsx("p",{className:"text-white font-medium mb-1",children:"No Posts Yet"}),e.jsx("p",{className:"text-sm",style:{color:"#8E8E93"},children:x?"Share your first post with the community!":"This user hasn't posted anything yet."})]}):e.jsxs("div",{className:"space-y-3",children:[v.map(r=>e.jsx(ce,{post:r,isOwn:String(a==null?void 0:a.id)===r.author_id,onLike:q,onDelete:G,onAuthorTap:J},r.id)),g&&e.jsx("div",{className:"text-center py-4",children:e.jsx("button",{onClick:()=>L(g),disabled:i,className:"text-sm font-medium hover:text-pnp-accent transition-colors",style:{color:"#8E8E93"},children:i?"Loading...":"Load more posts"})})]})}),w==="likes"&&e.jsxs("div",{className:"glass-card-sm p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"#8E8E93"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),e.jsx("p",{className:"text-white font-medium mb-1",children:"Liked Posts"}),e.jsx("p",{className:"text-sm",style:{color:"#8E8E93"},children:"Coming soon"})]}),l&&e.jsx(de,{open:V,onClose:()=>D(!1),profile:l,onSaved:()=>L()})]})}export{je as default};
